

{
    "global": {
        "output_path": "output",
        "clean": {
            "ign_folder": false,
            "uav_session": false,
            "coarse_cropped_ortho_tif": false,
            "coarse_annotation_tif": false,
            "coarse_train": false,
            "refine_cropped_ortho_tif": false,
            "refine_annotation_tif": false,
            "refine_train": false
        }
    },
    "setup": {
        "ign_link_files_parts": [
            "https://data.geopf.fr/telechargement/download/BDORTHO/BDORTHO_2-0_RVB-0M20_JP2-E080_RGR92UTM40S_D974_2022-01-01/BDORTHO_2-0_RVB-0M20_JP2-E080_RGR92UTM40S_D974_2022-01-01.7z.001",
            "https://data.geopf.fr/telechargement/download/BDORTHO/BDORTHO_2-0_RVB-0M20_JP2-E080_RGR92UTM40S_D974_2022-01-01/BDORTHO_2-0_RVB-0M20_JP2-E080_RGR92UTM40S_D974_2022-01-01.7z.002",
            "https://data.geopf.fr/telechargement/download/BDORTHO/BDORTHO_2-0_RVB-0M20_JP2-E080_RGR92UTM40S_D974_2022-01-01/BDORTHO_2-0_RVB-0M20_JP2-E080_RGR92UTM40S_D974_2022-01-01.7z.003",
            "https://data.geopf.fr/telechargement/download/BDORTHO/BDORTHO_1-0_RVB-0M20_JP2-E080_RGR92UTM40S_D974_2017-01-01/BDORTHO_1-0_RVB-0M20_JP2-E080_RGR92UTM40S_D974_2017-01-01.7z.001",
            "https://data.geopf.fr/telechargement/download/BDORTHO/BDORTHO_1-0_RVB-0M20_JP2-E080_RGR92UTM40S_D974_2017-01-01/BDORTHO_1-0_RVB-0M20_JP2-E080_RGR92UTM40S_D974_2017-01-01.7z.002",
            "https://data.geopf.fr/telechargement/download/BDORTHO/BDORTHO_1-0_RVB-0M20_JP2-E080_RGR92UTM40S_D974_2017-01-01/BDORTHO_1-0_RVB-0M20_JP2-E080_RGR92UTM40S_D974_2017-01-01.7z.003"
        ],
        "ign_layer_to_keep": [
            "0310-7670", "0310-7675", "0315-7665", "0315-7670",
            "0315-7675", "0320-7655", "0320-7660", "0320-7665",
            "0325-7650", "0335-7640", "0340-7640"
        ],
        "ign_useful_surface": ["./configs/emprise_lagoon.geojson"],
        "match_place_with_ign_code": {
            "TROU-DEAU": "0315-7670",
            "ST-LEU": "0320-7660" 
        },
        "list_uav_sessions": [
            "20231202_REU-TROU-DEAU_UAV-01_01", "20231208_REU-ST-LEU_UAV-01_03"
        ],
        "uav_segmentation_model_name": "SegForCoral-b2-2025_06_30_19127-bs16_refine",
        "list_boundary_ign_geojson": [
            "./configs/boundary_ign_stleu/boundary_ign_stleu.geojson",
            "./configs/boundary_ign_troudeau/boundary_ign_troudeau.geojson"
        ],
        "list_drone_test_geojson": [
            "./configs/drone_test_polygon_stleu.geojson",
            "./configs/drone_test_polygon_troudeau.geojson"
        ],
        "tiles": {
            "tile_size": 256,
            "horizontal_overlap": 0.75,
            "vertical_overlap": 0.75
        }
    },
    "train": {
        "base_model": "nvidia/mit-b0",
        "model_name": "SegIGNCoral",
        "path_output_dir": "models",
        "parameters": {
            "epochs": 500,
            "batch_size": 16,
            "initial_learning_rate": 1e-5,
            "weight_decay": 0.01,
            "factor_lr_scheduler": 0.1,
            "patience_lr_scheduler": 25,
            "early_stopping_patience": 50,
            "weight_dice": 1.0,
            "weight_ce": 0.0
        },
        "first_model": {
            "model_path": "./models/SegIGNCoral-b0-2025_09_30_55357-bs16",
            "resume_from": null
        },
        "second_model": {
            "model_path": "",
            "resume_from": null,
            "upload_on_huggingface": false
        }       
    }
}